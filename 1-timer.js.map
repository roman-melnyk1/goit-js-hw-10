{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate = null;\nlet timerInterval = null;\n\nconst dateTimePicker = document.querySelector('#datetime-picker');\nconst startButton = document.querySelector(\"[data-start]\");\nconst days = document.querySelector(\"[data-days]\");\nconst hours = document.querySelector(\"[data-hours]\");\nconst minutes = document.querySelector(\"[data-minutes]\");\nconst seconds = document.querySelector(\"[data-seconds]\");\n\nstartButton.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates.length === 0) return; \n\n        const selectedDate = selectedDates[0];\n        if (selectedDate <= new Date()) {\n            iziToast.error({ title: \"Error\", message: \"Please choose a date in the future\" });\n            startButton.disabled = true;\n        } else {\n            userSelectedDate = selectedDate;\n            startButton.disabled = false;\n        }\n    },\n};\n\nflatpickr(dateTimePicker, options);\n\nstartButton.addEventListener(\"click\", () => {\n    if (!userSelectedDate) return;\n\n    startButton.disabled = true;\n    dateTimePicker.disabled = true;\n\n    timerInterval = setInterval(() => {\n        const currentTime = new Date();\n        const remainingTime = userSelectedDate - currentTime;\n\n        if (remainingTime <= 0) {\n            clearInterval(timerInterval);\n            updateTimerDisplay(0);\n            iziToast.success({ title: \"Complete\", message: \"Countdown finished!\" });\n            dateTimePicker.disabled = false;\n            startButton.disabled = true; \n            return;\n        }\n\n        updateTimerDisplay(remainingTime);\n    }, 1000);\n});\n\nfunction updateTimerDisplay(ms) {\n  const { days: daysValue, hours: hoursValue, minutes: minutesValue, seconds: secondsValue } = convertMs(ms);\n\n  days.textContent = addLeadingZero(daysValue);\n  hours.textContent = addLeadingZero(hoursValue);\n  minutes.textContent = addLeadingZero(minutesValue);\n  seconds.textContent = addLeadingZero(secondsValue);\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, \"0\");\n}"],"names":["userSelectedDate","timerInterval","dateTimePicker","startButton","days","hours","minutes","seconds","options","selectedDates","selectedDate","iziToast","flatpickr","remainingTime","updateTimerDisplay","ms","daysValue","hoursValue","minutesValue","secondsValue","convertMs","addLeadingZero","value"],"mappings":"2GAKA,IAAIA,EAAmB,KACnBC,EAAgB,KAEpB,MAAMC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvDJ,EAAY,SAAW,GAEvB,MAAMK,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,GAAIA,EAAc,SAAW,EAAG,OAEhC,MAAMC,EAAeD,EAAc,CAAC,EAChCC,GAAgB,IAAI,MACpBC,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,oCAAoC,CAAE,EAChFR,EAAY,SAAW,KAEvBH,EAAmBU,EACnBP,EAAY,SAAW,GAE9B,CACL,EAEAS,EAAUV,EAAgBM,CAAO,EAEjCL,EAAY,iBAAiB,QAAS,IAAM,CACnCH,IAELG,EAAY,SAAW,GACvBD,EAAe,SAAW,GAE1BD,EAAgB,YAAY,IAAM,CAE9B,MAAMY,EAAgBb,EADF,IAAI,KAGxB,GAAIa,GAAiB,EAAG,CACpB,cAAcZ,CAAa,EAC3Ba,EAAmB,CAAC,EACpBH,EAAS,QAAQ,CAAE,MAAO,WAAY,QAAS,qBAAqB,CAAE,EACtET,EAAe,SAAW,GAC1BC,EAAY,SAAW,GACvB,MACH,CAEDW,EAAmBD,CAAa,CACnC,EAAE,GAAI,EACX,CAAC,EAED,SAASC,EAAmBC,EAAI,CAC9B,KAAM,CAAE,KAAMC,EAAW,MAAOC,EAAY,QAASC,EAAc,QAASC,CAAY,EAAKC,EAAUL,CAAE,EAEzGX,EAAK,YAAciB,EAAeL,CAAS,EAC3CX,EAAM,YAAcgB,EAAeJ,CAAU,EAC7CX,EAAQ,YAAce,EAAeH,CAAY,EACjDX,EAAQ,YAAcc,EAAeF,CAAY,CACnD,CAEA,SAASC,EAAUL,EAAI,CAMrB,MAAMX,EAAO,KAAK,MAAMW,EAAK,KAAG,EAC1BV,EAAQ,KAAK,MAAOU,EAAK,MAAO,IAAI,EACpCT,EAAU,KAAK,MAAQS,EAAK,MAAO,KAAQ,GAAM,EACjDR,EAAU,KAAK,MAASQ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAX,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASc,EAAeC,EAAO,CAC7B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC"}